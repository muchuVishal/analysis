names(dbWithClin)
names(dbWithClin)[grepl(x = dbWithClin, pattern="pred")
]
names(dbWithClin)[grepl(x = dbWithClin, pattern="pred")]
names(dbWithClin)[grepl(x = names(dbWithClin), pattern="pred")]
names(dbChr13)[grepl(x=names(dbChr13), pattern="Mutation")]
names(dbChr13)[grepl(x=dbChr13, pattern="pred")] 
names(dbChr13)[grepl(x=names(dbChr13), pattern="pred")] 
names(dbChr13)[grepl(x=names(dbChr13), pattern="pred")] 
names(dbChr13)[grepl(x=names(dbChr13), pattern="Polyphen")
]
names(dbWithClin)
dbChr13[, outcome]
names(dbChr13)
dbChr13[, outcome]
unique(dbChr13$clinvar_clnsig)
table(dbChr13$clinvar_clnsig)
sum(dbChr13$clinvar_clnsig != ".")
dim(dbChr13)
dbchr13.wc <- subset(dbChr13[, c(predColumns, scoreColumns, outcome)], clinvar_clnsig != ".")
dim(dbchr13.wc)
dbchrms
install.packages("foreach")
require(foreach)
  subset(dbchrm[, c(predColumns, scoreColumns, outcome)], clinvar_clnsig != .)
install.packages("knitr")
install.packages("doParallel")
require(doParallel)
require(foreach)
registerDoParallel(cores = 3)
idColumns    <- c("chr", "pos.1.based.", "ref", "alt", 'rs_dbSNP144")
scoreColumns <- c("MutationTaster_score", "MutationTaster_converted_rankscore",
                  "MutationAssessor_score", "MutationAssessor_rankscore",
                  "Polyphen2_HVAR_score", "Polyphen2_HVAR_rankscore",
                  "Polyphen2_HDIV_score", "Polyphen2_HDIV_rankscore",
                  "LRT_score", "LRT_converted_rankscore",
                  "SIFT_score", "SIFT_converted_rankscore",
                  "FATHMM_score", "FATHMM_converted_rankscore",
                  "PROVEAN_score", "PROVEAN_converted_rankscore",
                  "fathmm.MKL_coding_score", "fathmm.MKL_coding_rankscore",
                  "MetaSVM_score", "MetaSVM_rankscore",
                  "MetaLR_score", "MetaLR_rankscore")
predColumns <- c("MutationTaster_pred",
                 "MutationAssessor_pred",
                 "Polyphen2_HVAR_pred",
                 "Polyphen2_HDIV_pred",
                 "LRT_pred",
                 "SIFT_pred",
                 "FATHMM_pred",
                 "PROVEAN_pred",
                 "fathmm.MKL_coding_pred",
                 "MetaSVM_pred",
                 "MetaLR_pred")
outcome   <- "clinvar_clnsig"

idColumns    <- c("chr", "pos.1.based.", "ref", "alt", 'rs_dbSNP144")
scoreColumns <- c("MutationTaster_score", "MutationTaster_converted_rankscore",
                  "MutationAssessor_score", "MutationAssessor_rankscore",
                  "Polyphen2_HVAR_score", "Polyphen2_HVAR_rankscore",
                  "Polyphen2_HDIV_score", "Polyphen2_HDIV_rankscore",
                  "LRT_score", "LRT_converted_rankscore",
                  "SIFT_score", "SIFT_converted_rankscore",
                  "FATHMM_score", "FATHMM_converted_rankscore",
                  "PROVEAN_score", "PROVEAN_converted_rankscore",
                  "fathmm.MKL_coding_score", "fathmm.MKL_coding_rankscore",
                  "MetaSVM_score", "MetaSVM_rankscore",
                  "MetaLR_score", "MetaLR_rankscore")
predColumns <- c("MutationTaster_pred",
                 "MutationAssessor_pred",
                 "Polyphen2_HVAR_pred",
                 "Polyphen2_HDIV_pred",
                 "LRT_pred",
                 "SIFT_pred",
                 "FATHMM_pred",
                 "PROVEAN_pred",
                 "fathmm.MKL_coding_pred",
                 "MetaSVM_pred",
                 "MetaLR_pred")
outcome   <- "clinvar_clnsig"
datapath <- "/data/external.data/Variants/dbNSFP/dbNSFP3.1a_variant.chr"
dbchrmfiles  <- paste(datapath, c(1:22, "X", "Y"), sep="")

dbchrmfiles
require(doParallel)
getDoParRegistered()
getDoParWorkers()
registerDoParallel(cores=3)
getDoParWorkers()
require("foreach")
registerDoParallel(cores=6)
